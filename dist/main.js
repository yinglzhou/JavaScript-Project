!function(){"use strict";!function(){document.addEventListener("keydown",(e=>{"ArrowRight"===e.key&&(a.currentSprite=a.rightSprite,a.velX=3)})),document.addEventListener("keydown",(e=>{"ArrowLeft"===e.key&&(a.currentSprite=a.leftSprite,a.velX=-3)})),document.addEventListener("keyup",(e=>{"ArrowRight"===e.key&&(a.currentSprite=a.rightSprite,a.velX=0)})),document.addEventListener("keyup",(e=>{"ArrowLeft"===e.key&&(a.currentSprite=a.leftSprite,a.velX=0)})),document.addEventListener("keydown",(e=>{"ArrowUp"===e.key&&(a.velY=-3)})),document.addEventListener("keydown",(e=>{"ArrowDown"===e.key&&(a.velY=3)})),document.addEventListener("keyup",(e=>{"ArrowUp"===e.key&&(a.velY=0)})),document.addEventListener("keyup",(e=>{"ArrowDown"===e.key&&(a.velY=0)})),document.addEventListener("keydown",(e=>{"KeyD"===e.code&&(a.keyPressed=!0,a.shoot(e.code))})),document.addEventListener("keyup",(e=>{"KeyD"===e.code&&(a.keyPressed=!1)})),document.addEventListener("keydown",(e=>{"KeyA"===e.code&&(a.keyPressed=!0,a.shoot(e.code))})),document.addEventListener("keyup",(e=>{"KeyA"===e.code&&(a.keyPressed=!1)})),document.addEventListener("keydown",(e=>{"KeyW"===e.code&&(a.keyPressed=!0,a.shoot(e.code))})),document.addEventListener("keyup",(e=>{"KeyW"===e.code&&(a.keyPressed=!1)})),document.addEventListener("keydown",(e=>{"KeyS"===e.code&&(a.keyPressed=!0,a.shoot(e.code))})),document.addEventListener("keyup",(e=>{"KeyS"===e.code&&(a.keyPressed=!1)}));var e=class{constructor(e,t,s,n){this.speed=.01,this.posx=e,this.posy=t,this.dx=s,this.dy=n,this.width=10,this.height=10}update(e){if(this.posx+=this.dx,this.posy+=this.dy,this.posx<0||this.posy<0||this.posx>750||this.posy>500){let t=e.indexOf(this);t>-1&&e.splice(t,1)}}draw(e){this.posx+=this.speed,e.fillStyle="orange",e.beginPath(),e.arc(this.posx,this.posy,7,0,2*Math.PI,!1),e.fillStyle="orange",e.fill(),e.strokeStyle="red",e.stroke()}},t=class{constructor(e){this.rightSprite=new Image,this.rightSprite.src="./assets/scaledright.png",this.leftSprite=new Image,this.leftSprite.src="./assets/scaledleft.png",this.currentSprite=this.rightSprite,this.name=e.name,this.posX=e.pos[0],this.posY=e.pos[1],this.velX=0,this.velY=0,this.draw(),this.currentFrame=0,this.frameCount=0,this.delayFrame=20,this.bullets=[],this.keyPressed=0,this.lives=3,this.score=0}shoot(t){const s=this.posX+16,n=this.posY+24;if(!0===this.keyPressed){if("KeyD"===t){const t=new e(s,n,5,0);this.bullets.push(t)}if("KeyA"===t){const t=new e(s,n,-5,0);this.bullets.push(t)}if("KeyW"===t){const t=new e(s,n,0,-5);this.bullets.push(t)}if("KeyS"===t){const t=new e(s,n,0,5);this.bullets.push(t)}}}update(){this.bullets.forEach((e=>{e.update(this.bullets)}));for(let e=0;e<this.bullets.length;e++)this.bullets[e].draw(ctx)}printbullets(){for(let e=0;e<this.bullets.length;e++)this.bullets[e].draw(ctx)}draw(){ctx.clearRect(0,0,750,500),ctx.drawImage(this.currentSprite,32*this.currentFrame,0,32,48,this.posX,this.posY,32,48),this.frameCount++,this.frameCount>=this.delayFrame&&(this.frameCount=0,this.currentFrame=(this.currentFrame+1)%2)}move(e){this.posX+=this.velX,this.posY+=this.velY,this.posX<0&&(this.posX=0,this.velX=0),this.posX>718&&(this.posX=718,this.velX=0),this.posY<0&&(this.posY=0,this.velY=0),this.posY>452&&(this.posY=452,this.velY=0)}};class s{constructor(e,t){this.posx=e,this.posy=t,this.player=a,this.rightEnemy=new Image,this.rightEnemy.src="./assets/scaledrightenemy.png",this.leftEnemy=new Image,this.leftEnemy.src="./assets/scaledleftenemy.png",this.currentEnemy=this.leftEnemy,this.currentFrame=0,this.frameCount=0,this.delayFrame=20}draw(e){e.drawImage(this.currentEnemy,30.75*this.currentFrame,0,30.75,48,this.posx,this.posy,30.75,48),this.frameCount++,this.frameCount>=this.delayFrame&&(this.frameCount=0,this.currentFrame=(this.currentFrame+1)%4)}moveToPlayer(e){e||(e=1);const t=this.player.posX-this.posx,s=this.player.posY-this.posy,n=Math.sqrt(t*t+s*s);let r=0,o=0;n>0&&(r=t/n*e,o=s/n*e),r>0&&(this.currentEnemy=this.rightEnemy),r<0&&(this.currentEnemy=this.leftEnemy),this.posx+=r,this.posy+=o}}const n=[],r=function(){let e=Math.floor(751*Math.random()),t=Math.floor(501*Math.random());for(;e>170&&e<580||t>115&&t<385;)e=Math.floor(751*Math.random()),t=Math.floor(501*Math.random());const r=new s(e,t);n.push(r)},o=function(e){let t=new Image;t.src="./assets/1redheart.png";let s=new Image;s.src="./assets/1emptyheart.png",e&&(3===e.lives&&(ctx.drawImage(t,0,0,32,32,620,15,32,32),ctx.drawImage(t,0,0,32,32,585,15,32,32),ctx.drawImage(t,0,0,32,32,550,15,32,32)),2===e.lives&&(ctx.drawImage(s,0,0,32,32,620,15,32,32),ctx.drawImage(t,0,0,32,32,585,15,32,32),ctx.drawImage(t,0,0,32,32,550,15,32,32)),1===e.lives&&(ctx.drawImage(s,0,0,32,32,620,15,32,32),ctx.drawImage(s,0,0,32,32,585,15,32,32),ctx.drawImage(t,0,0,32,32,550,15,32,32)),0===e.lives&&(ctx.drawImage(s,0,0,32,32,620,15,32,32),ctx.drawImage(s,0,0,32,32,585,15,32,32),ctx.drawImage(s,0,0,32,32,550,15,32,32)))},i=function(e){const t=Math.floor(e/60);let s=Math.floor(e%60);s<10&&(s="0"+s),ctx.font="bold 40px rainyheart",ctx.fillStyle="white",e>=0&&ctx.fillText(`${t}:${s}`,670,40)},d=function(){const e=document.createElement("div");e.id="game-over-modal",e.innerHTML=`<div class='content'>\n    <h2>Game Over</h2>\n    <h3>Final Score: ${a.score}</h3>\n    <h4 onclick='location.reload()'>Play Again!</div>\n    </div>`,document.body.appendChild(e)},c=function(){const e=document.createElement("div");e.id="game-over-modal",e.innerHTML=`<div class='content'>\n    <h2>You Win!</h2>\n    <h3>Final Score: ${a.score}</h3>\n    <h4 onclick='location.reload()'>Play Again!</div>\n    </div>`,document.body.appendChild(e)},l=function(){document.getElementById("background-music").muted=!0};let h,u,m;document.addEventListener("DOMContentLoaded",(()=>{const e=document.getElementById("game-screen").getContext("2d");window.ctx=e,window.Player=t;const s=new t({name:"me",pos:[375,250]});window.a=s;let a=61;function p(){s.draw(),o(s),n.forEach((t=>{t.draw(e)})),s.move(),s.update(),a-=1/75,i(a),function(e){document.getElementById("scoreboard").innerHTML=`\n    <p>\n    Score: <br>\n    <div>\n    ${e.score}\n    </div>\n    </p>\n    `}(s),s.lives<=0&&(clearInterval(h),clearInterval(u),clearInterval(m),l(),d()),a<=0&&(clearInterval(h),clearInterval(u),clearInterval(m),l(),c())}let y=document.querySelector("#startbutton"),v=document.querySelector(".modal");y.addEventListener("click",(()=>{v.style.display="none",function(){const e=document.createElement("audio");e.id="background-music",e.innerHTML='\n    <source src="./assets/background-music.mp3" type="audio/mpeg">\n    ',document.body.appendChild(e),e.play(),e.volume=.4}(),m=setInterval(r,1e3),h=setInterval(p,1e3/75),u=setInterval((e=>()=>{e.score>=5&&n.forEach((e=>{e.moveToPlayer(.5)})),e.score>=15&&n.forEach((e=>{e.moveToPlayer(.75)})),n.forEach((e=>{e.moveToPlayer()}))})(s),1e3/75),setInterval(((e,t)=>function(){for(let s=0;s<e.bullets.length;s++){let n=e.bullets[s];for(let r=0;r<t.length;r++){let o=t[r];const i=n.posx-o.posx-15.375,a=n.posy-o.posy-24;if(Math.sqrt(i*i+a*a)<22.375){e.bullets.splice(s,1),t.splice(r,1),e.score++;break}}}})(s,n),1e3/75),setInterval(((e,t)=>function(){for(let s=0;s<t.length;s++){let n=t[s];const r=n.posx-e.posX,o=n.posy-e.posY;if(Math.sqrt(r*r+o*o)<32){e.lives--,t.splice(s,1);break}}})(s,n),1e3/75)}));let f=document.getElementById("volume-control");f.addEventListener("click",(e=>function(){e.innerHTML.split("volume")[1].includes("high")?(e.innerHTML='<i class="fa-solid fa-volume-xmark"></i>',l()):(e.innerHTML='<i class="fa-solid fa-volume-high" ></i>',document.getElementById("background-music").muted=!1)})(f))}))}()}();
//# sourceMappingURL=main.js.map