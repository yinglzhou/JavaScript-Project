!function(){"use strict";!function(){document.addEventListener("keydown",(e=>{"ArrowRight"===e.key&&(a.currentSprite=a.rightSprite,a.velX=3)})),document.addEventListener("keydown",(e=>{"ArrowLeft"===e.key&&(a.currentSprite=a.leftSprite,a.velX=-3)})),document.addEventListener("keyup",(e=>{"ArrowRight"===e.key&&(a.currentSprite=a.rightSprite,a.velX=0)})),document.addEventListener("keyup",(e=>{"ArrowLeft"===e.key&&(a.currentSprite=a.leftSprite,a.velX=0)})),document.addEventListener("keydown",(e=>{"ArrowUp"===e.key&&(a.velY=-3)})),document.addEventListener("keydown",(e=>{"ArrowDown"===e.key&&(a.velY=3)})),document.addEventListener("keyup",(e=>{"ArrowUp"===e.key&&(a.velY=0)})),document.addEventListener("keyup",(e=>{"ArrowDown"===e.key&&(a.velY=0)})),document.addEventListener("keydown",(e=>{"KeyD"===e.code&&(a.keyPressed=!0,a.shoot(e.code))})),document.addEventListener("keyup",(e=>{"KeyD"===e.code&&(a.keyPressed=!1)})),document.addEventListener("keydown",(e=>{"KeyA"===e.code&&(a.keyPressed=!0,a.shoot(e.code))})),document.addEventListener("keyup",(e=>{"KeyA"===e.code&&(a.keyPressed=!1)})),document.addEventListener("keydown",(e=>{"KeyW"===e.code&&(a.keyPressed=!0,a.shoot(e.code))})),document.addEventListener("keyup",(e=>{"KeyW"===e.code&&(a.keyPressed=!1)})),document.addEventListener("keydown",(e=>{"KeyS"===e.code&&(a.keyPressed=!0,a.shoot(e.code))})),document.addEventListener("keyup",(e=>{"KeyS"===e.code&&(a.keyPressed=!1)}));var e=class{constructor(e,t,s,r){this.speed=.01,this.posx=e,this.posy=t,this.dx=s,this.dy=r,this.width=10,this.height=10}update(e){if(this.posx+=this.dx,this.posy+=this.dy,this.posx<0||this.posy<0||this.posx>750||this.posy>500){let t=e.indexOf(this);t>-1&&e.splice(t,1)}}draw(e){this.posx+=this.speed,e.fillStyle="orange",e.beginPath(),e.arc(this.posx,this.posy,7,0,2*Math.PI,!1),e.fillStyle="orange",e.fill(),e.strokeStyle="red",e.stroke()}},t=class{constructor(e){this.rightSprite=new Image,this.rightSprite.src="./assets/scaledright.png",this.leftSprite=new Image,this.leftSprite.src="./assets/scaledleft.png",this.currentSprite=this.rightSprite,this.name=e.name,this.posX=e.pos[0],this.posY=e.pos[1],this.velX=0,this.velY=0,this.draw(),this.currentFrame=0,this.frameCount=0,this.delayFrame=20,this.bullets=[],this.keyPressed=0,this.lives=3,this.score=0}shoot(t){const s=this.posX+16,r=this.posY+24;if(!0===this.keyPressed){if("KeyD"===t){const t=new e(s,r,5,0);this.bullets.push(t)}if("KeyA"===t){const t=new e(s,r,-5,0);this.bullets.push(t)}if("KeyW"===t){const t=new e(s,r,0,-5);this.bullets.push(t)}if("KeyS"===t){const t=new e(s,r,0,5);this.bullets.push(t)}}}update(){this.bullets.forEach((e=>{e.update(this.bullets)}));for(let e=0;e<this.bullets.length;e++)this.bullets[e].draw(ctx)}printbullets(){for(let e=0;e<this.bullets.length;e++)this.bullets[e].draw(ctx)}draw(){ctx.clearRect(0,0,750,500),ctx.drawImage(this.currentSprite,32*this.currentFrame,0,32,48,this.posX,this.posY,32,48),this.frameCount++,this.frameCount>=this.delayFrame&&(this.frameCount=0,this.currentFrame=(this.currentFrame+1)%2)}move(e){this.posX+=this.velX,this.posY+=this.velY,this.posX<0&&(this.posX=0,this.velX=0),this.posX>718&&(this.posX=718,this.velX=0),this.posY<0&&(this.posY=0,this.velY=0),this.posY>452&&(this.posY=452,this.velY=0)}},s=class{constructor(e,t){this.posx=e,this.posy=t,this.player=a,this.rightEnemy=new Image,this.rightEnemy.src="./assets/scaledrightenemy.png",this.leftEnemy=new Image,this.leftEnemy.src="./assets/scaledleftenemy.png",this.currentEnemy=this.leftEnemy,this.currentFrame=0,this.frameCount=0,this.delayFrame=20}draw(e){e.drawImage(this.currentEnemy,30.75*this.currentFrame,0,30.75,48,this.posx,this.posy,30.75,48),this.frameCount++,this.frameCount>=this.delayFrame&&(this.frameCount=0,this.currentFrame=(this.currentFrame+1)%4)}moveToPlayer(e){e||(e=1);const t=this.player.posX-this.posx,s=this.player.posY-this.posy,r=Math.sqrt(t*t+s*s);let n=0,o=0;r>0&&(n=t/r*e,o=s/r*e),n>0&&(this.currentEnemy=this.rightEnemy),n<0&&(this.currentEnemy=this.leftEnemy),this.posx+=n,this.posy+=o}};let r,n,o;document.addEventListener("DOMContentLoaded",(()=>{const e=document.getElementById("game-screen").getContext("2d");window.ctx=e,window.Player=t;const i=new t({name:"me",pos:[375,250]});window.a=i;const a=[];function h(){let e=Math.floor(751*Math.random()),t=Math.floor(501*Math.random());(e>180&&e<570||t>125&&t<375)&&(e=Math.floor(751*Math.random()),t=Math.floor(501*Math.random()));const r=new s(e,t);a.push(r)}window.enemies=a;let d=new Image;d.src="./assets/1redheart.png";let l=new Image;l.src="./assets/1emptyheart.png";let c=90;function p(){i.draw(),3===i.lives&&(e.drawImage(d,0,0,32,32,620,15,32,32),e.drawImage(d,0,0,32,32,585,15,32,32),e.drawImage(d,0,0,32,32,550,15,32,32)),2===i.lives&&(e.drawImage(l,0,0,32,32,620,15,32,32),e.drawImage(d,0,0,32,32,585,15,32,32),e.drawImage(d,0,0,32,32,550,15,32,32)),1===i.lives&&(e.drawImage(l,0,0,32,32,620,15,32,32),e.drawImage(l,0,0,32,32,585,15,32,32),e.drawImage(d,0,0,32,32,550,15,32,32)),0===i.lives&&(e.drawImage(l,0,0,32,32,620,15,32,32),e.drawImage(l,0,0,32,32,585,15,32,32),e.drawImage(l,0,0,32,32,550,15,32,32)),a.forEach((t=>{t.draw(e)})),i.move(),i.update(),c-=1/75,function(){const t=Math.floor(c/60);let s=Math.floor(c%60);s<10&&(s="0"+s),e.font="bold 40px rainyheart",e.fillStyle="white",c>=0&&e.fillText(`${t}:${s}`,670,40)}(),document.getElementById("scoreboard").innerHTML=`\n        <p>\n        Score: <br>\n        <div>\n        ${i.score}\n        </div>\n        </p>\n        `,(i.lives<=0||c<=0)&&(clearInterval(r),clearInterval(n),clearInterval(o),function(){const e=document.createElement("div");e.id="game-over-modal",e.innerHTML="<div class='content'>\n        <h2>Game Over</h2>\n        <h4 onclick='location.reload()'>Play Again!</div>\n        </div>",document.body.appendChild(e)}())}function m(){i.score>=5&&a.forEach((e=>{e.moveToPlayer(1.1)})),i.score>=15&&a.forEach((e=>{e.moveToPlayer(1.15)})),a.forEach((e=>{e.moveToPlayer()}))}function y(){for(let e=0;e<i.bullets.length;e++){let t=i.bullets[e];for(let s=0;s<a.length;s++){let r=a[s];const n=t.posx-r.posx-16,o=t.posy-r.posy-24;if(Math.sqrt(n*n+o*o)<22.375){i.bullets.splice(e,1),a.splice(s,1),i.score++;break}}}}function u(){let e=i;for(let t=0;t<a.length;t++){let s=a[t];const r=s.posx-e.posX,n=s.posy-e.posY;if(Math.sqrt(r*r+n*n)<32){e.lives--,a.splice(t,1);break}}}let v=document.querySelector("#startbutton"),w=document.querySelector(".modal");v.addEventListener("click",(()=>{w.style.display="none",o=setInterval(h,2e3),r=setInterval(p,1e3/75),n=setInterval(m,1e3/75),setInterval(y,1e3/75),setInterval(u,1e3/75)}))}))}()}();
//# sourceMappingURL=main.js.map